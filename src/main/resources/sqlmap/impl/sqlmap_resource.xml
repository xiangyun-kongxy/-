<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
        "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

<sqlMap namespace="resource" >

    <typeAlias alias="NcDownDO" type="com.aliyun.houyi.regionmaster.model.db.NcDownDO" />

    <resultMap id="NcDownDOResultMap" class="NcDownDO" >
        <result property="id" column="id" />
        <result property="ncId" column="nc_id" />
        <result property="ncIp" column="nc_ip" />
        <result property="clusterId" column="cluster_id" />
        <result property="status" column="status" javaType="downStatus" jdbcType="Integer"/>
        <result property="reason" column="reason" javaType="downReason" jdbcType="Integer"/>
        <result property="gmtCreate" column="gmt_create" />
        <result property="gmtModify" column="gmt_modify" />
    </resultMap>


    <sql id="NcDown_do_columns" >
        a1.id, a1.nc_id, a1.nc_ip, a1.cluster_id, a1.status, a1.reason, a1.gmt_create, a1.gmt_modify
    </sql>



    <sql id="NcDown_doQueryParams" >
        <dynamic prepend="WHERE" >
            <isNotNull property="id" prepend="AND" >
                <![CDATA[
        id = #id#
        ]]>
            </isNotNull>
            <isNotNull property="ncId" prepend="AND" >
                <![CDATA[
        nc_id = #ncId#
        ]]>
            </isNotNull>
            <isNotNull property="ncIp" prepend="AND" >
                <![CDATA[
        nc_ip = #ncIp#
        ]]>
            </isNotNull>
            <isNotNull property="clusterId" prepend="AND" >
                <![CDATA[
        cluster_id = #clusterId#
        ]]>
            </isNotNull>
            <isNotNull property="status" prepend="AND" >
                <![CDATA[
        status = #status#
        ]]>
            </isNotNull>
            <isNotNull property="reason" prepend="AND" >
                <![CDATA[
        reason = #reason#
        ]]>
            </isNotNull>
            <isNotNull property="gmtCreate" prepend="AND" >
                <![CDATA[
        gmt_create = #gmtCreate#
        ]]>
            </isNotNull>
            <isNotNull property="gmtModify" prepend="AND" >
                <![CDATA[
        gmt_modify = #gmtModify#
        ]]>
            </isNotNull>
        </dynamic>
    </sql>

    <insert id="insert" parameterClass="NcDownDO" >
        INSERT INTO nc_down( id, nc_id, nc_ip, cluster_id, status, reason, gmt_create, gmt_modify)
        VALUES ( #id#, #ncId#, #ncIp#, #clusterId#, #status#, #reason#, #gmtCreate#, #gmtModify#)
        <selectKey keyProperty="id" resultClass="java.lang.Long" >
            SELECT LAST_INSERT_ID() AS value
        </selectKey>
    </insert>

    <update id="update" parameterClass="NcDownDO" >
        UPDATE nc_down
        <dynamic prepend="SET" >
            <!--
            <isNotNull property="id" prepend="," >
              <![CDATA[
              id = #id#
              ]]>
            </isNotNull>
            -->
            <isNotNull property="ncId" prepend="," >
                <![CDATA[
        nc_id = #ncId#
        ]]>
            </isNotNull>
            <isNotNull property="ncIp" prepend="," >
                <![CDATA[
        nc_ip = #ncIp#
        ]]>
            </isNotNull>
            <isNotNull property="clusterId" prepend="," >
                <![CDATA[
        cluster_id = #clusterId#
        ]]>
            </isNotNull>
            <isNotNull property="status" prepend="," >
                <![CDATA[
        status = #status#
        ]]>
            </isNotNull>
            <isNotNull property="reason" prepend="," >
                <![CDATA[
        reason = #reason#
        ]]>
            </isNotNull>
            <isNotNull property="gmtCreate" prepend="," >
                <![CDATA[
        gmt_create = #gmtCreate#
        ]]>
            </isNotNull>
            <isNotNull property="gmtModify" prepend="," >
                <![CDATA[
        gmt_modify = #gmtModify#
        ]]>
            </isNotNull>
        </dynamic>
        WHERE id = #id#
    </update>

    <select id="findByPrimaryKey" parameterClass="java.lang.Long" resultMap="NcDownDOResultMap" >
        SELECT
        <include refid="NcDown_do_columns" />
        <![CDATA[
     FROM nc_down a1 WHERE id = #id#
    ]]>
    </select>

    <delete id="deleteByPrimaryKey" parameterClass="java.lang.Integer" >
        <![CDATA[
     DELETE FROM nc_down WHERE id = #id#
    ]]>
    </delete>

</sqlMap>
